Mon Oct 14 13:52:00 2024 DEBUG [UTIL]: init_resource_tree
Mon Oct 14 13:52:00 2024 DEBUG [DB]: Call db_get_all_resource_as_rtnode
Mon Oct 14 13:52:00 2024 DEBUG [O2M]: Add Resource Tree Node [Parent-ID] : tinyiot, [Child-ID] : CAE20241014T1349110003
Mon Oct 14 13:52:00 2024 INFO  [HTTP]: Server started [92mhttp://127.0.0.1:3000[0m
Mon Oct 14 13:52:00 2024 INFO  [WEBSOCKET]: WebSocket Server(ws) started on port 8081
Mon Oct 14 13:52:00 2024 INFO  [COAP]: CoAP Setup Completed
Mon Oct 14 13:52:00 2024 INFO  [WEBSOCKET]: WebSocket Server (wss) started on port 8443
Mon Oct 14 13:52:01 2024 DEBUG [HTTP]: 

GET /TinyIoT HTTP/1.1
Host: localhost:3000
User-Agent: python-requests/2.32.3
Accept-Encoding: gzip, deflate
Accept: application/json
Connection: keep-alive
Content-Type: application/json
X-M2M-RI: 8904918886220382911
X-M2M-RVI: 4
X-M2M-Origin: CAdmin



Mon Oct 14 13:52:01 2024 DEBUG [HTTP]: [36m[GET] /TinyIoT[0m
Mon Oct 14 13:52:01 2024 DEBUG [HTTP]: fr: CAdmin
Mon Oct 14 13:52:01 2024 DEBUG [HTTP]: to: TinyIoT
Mon Oct 14 13:52:01 2024 INFO  [HTTP]: Client connected 192.168.128.1
Mon Oct 14 13:52:01 2024 DEBUG [HTTP]: ip: 192.168.128.1
Mon Oct 14 13:52:01 2024 INFO  [UTIL]: chekAdd1
Mon Oct 14 13:52:01 2024 DEBUG [UTIL]: uri : TinyIoT
Mon Oct 14 13:52:01 2024 INFO  [UTIL]: chekAdd2
Mon Oct 14 13:52:01 2024 DEBUG [RTM]: CSE_RELATIVE
Mon Oct 14 13:52:01 2024 DEBUG [MAIN]: handle_onem2m_request
Mon Oct 14 13:52:01 2024 DEBUG [MAIN]: o2pt->op : 2
Mon Oct 14 13:52:01 2024 DEBUG [UTIL]: check_privilege : CAdmin : 2
Mon Oct 14 13:52:01 2024 DEBUG [UTIL]: ADMIN_AE_ID : CAdmin
Mon Oct 14 13:52:01 2024 DEBUG [O2M]: Notify via SUB [TinyIoT]
Mon Oct 14 13:52:01 2024 INFO  [UTIL]: Run time : 0.000162
Mon Oct 14 13:52:01 2024 DEBUG [HTTP]: Response: 
HTTP/1.1 200 OK
Connection: Close
Server: tinyIoT v0.1
Accept: application/json
Content-Type: application/json; charset=utf-8
Access-Control-Allow-Origin: *
Access-Control-Allow-Headers: Accept, Accept-Language, Content-Language, Content-Type, X-M2M-Origin, X-M2M-RI, X-M2M-RVI
Access-Control-Allow-Methods: GET, PUT, POST, DELETE, OPTIONS
Access-Control-Request-Methods: GET, PUT, POST, DELETE, OPTIONS
Content-Length: 263
X-M2M-RSC: 2000
X-M2M-RVI: 4
X-M2M-RI: 8904918886220382911

{"m2m:cb":{"rn":"TinyIoT","ri":"tinyiot","pi":"","ct":"20241008T175612","lt":"20241008T175612","ty":5,"cst":1,"csi":"/tinyiot","srt":[1,2,3,4,5,9,16,23,10001,10002,10003,10004,10005],"srv":["2a"],"rr":true,"poa":["http://127.0.0.1:3000","coap://127.0.0.1:5683"]}}

Mon Oct 14 13:52:05 2024 DEBUG [WEBSOCKET]: Connection established
Mon Oct 14 13:52:06 2024 DEBUG [WEBSOCKET]: Received raw data: 
--{"fr": "CAdmin", "to": "TinyIoT", "op": 2, "rqi": "3735669359656602681", "rvi": "4"}ebSocket-Key: n6ba2lAvMejR99eXMujZVA==
Sec-WebSocket-Version: 13
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
Sec-WebSocket-Protocol: oneM2M.json
X-M2M-Origin: CAdmin
User-Agent: Python/3.12 websockets/12.0

--

Mon Oct 14 13:52:06 2024 INFO  [WEBSOCKET]: X-M2M-Origin: CAdmin
Mon Oct 14 13:52:06 2024 DEBUG [WEBSOCKET]: fr í•„ë“œê°€ ìžˆì„ë•Œ X-M2M-Origin : CAdmin
Mon Oct 14 13:52:06 2024 INFO  [WEBSOCKET]: op: 2
Mon Oct 14 13:52:06 2024 DEBUG [WEBSOCKET]: to: TinyIoT
Mon Oct 14 13:52:06 2024 DEBUG [WEBSOCKET]: Parsed request: op=2, to=TinyIoT, rqi=3735669359656602681, ty=0, rvi=5
Mon Oct 14 13:52:06 2024 DEBUG [WEBSOCKET]: Parsed content: (null)
Mon Oct 14 13:52:06 2024 DEBUG [WEBSOCKET]: route ì‹œìž‘ì „
Mon Oct 14 13:52:06 2024 INFO  [UTIL]: chekAdd1
Mon Oct 14 13:52:06 2024 DEBUG [UTIL]: uri : TinyIoT
Mon Oct 14 13:52:06 2024 INFO  [UTIL]: chekAdd2
Mon Oct 14 13:52:06 2024 DEBUG [RTM]: CSE_RELATIVE
Mon Oct 14 13:52:06 2024 DEBUG [MAIN]: handle_onem2m_request
Mon Oct 14 13:52:06 2024 DEBUG [MAIN]: o2pt->op : 2
Mon Oct 14 13:52:06 2024 DEBUG [UTIL]: check_privilege : CAdmin : 2
Mon Oct 14 13:52:06 2024 DEBUG [UTIL]: ADMIN_AE_ID : CAdmin
Mon Oct 14 13:52:06 2024 DEBUG [O2M]: Notify via SUB [TinyIoT]
Mon Oct 14 13:52:06 2024 INFO  [UTIL]: Run time : 0.000483
Mon Oct 14 13:52:06 2024 DEBUG [WEBSOCKET]: rsc : 2000
Mon Oct 14 13:52:06 2024 DEBUG [WEBSOCKET]: retrieve ì‘ë‹µ ë©”ì„¸ì§€ : {"rsc":2000,"rqi":"3735669359656602681","rvi":"4","pc":{"general":{"rn":"TinyIoT","ri":"tinyiot","pi":"","ct":"20241008T175612","lt":"20241008T175612","ty":5,"cst":1,"csi":"/tinyiot","srt":[1,2,3,4,5,9,16,23,10001,10002,10003,10004,10005],"srv":["2a"],"rr":true,"poa":["http://127.0.0.1:3000","coap://127.0.0.1:5683"]}}}
Mon Oct 14 13:52:06 2024 DEBUG [WEBSOCKET]: Sending message: {"rsc":2000,"rqi":"3735669359656602681","to":"TinyIoT","fr":"CAdmin","rvi":"4","pc":{"m2m:cb":{"rn":"TinyIoT","ri":"tinyiot","pi":"","ct":"20241008T175612","lt":"20241008T175612","ty":5,"cst":1,"csi":"/tinyiot","srt":[1,2,3,4,5,9,16,23,10001,10002,10003,10004,10005],"srv":["2a"],"rr":true,"poa":["http://127.0.0.1:3000","coap://127.0.0.1:5683"]}}}
Mon Oct 14 13:52:08 2024 DEBUG [HTTP]: 

GET /TinyIoT HTTP/1.1
Host: localhost:3000
User-Agent: python-requests/2.32.3
Accept-Encoding: gzip, deflate
Accept: application/json
Connection: keep-alive
Content-Type: application/json
X-M2M-RI: 6747953974798999213
X-M2M-RVI: 4
X-M2M-Origin: CAdmin



Mon Oct 14 13:52:08 2024 DEBUG [HTTP]: [36m[GET] /TinyIoT[0m
Mon Oct 14 13:52:08 2024 DEBUG [HTTP]: fr: CAdmin
Mon Oct 14 13:52:08 2024 DEBUG [HTTP]: to: TinyIoT
Mon Oct 14 13:52:08 2024 INFO  [HTTP]: Client connected 192.168.128.1
Mon Oct 14 13:52:08 2024 DEBUG [HTTP]: ip: 192.168.128.1
Mon Oct 14 13:52:08 2024 INFO  [UTIL]: chekAdd1
Mon Oct 14 13:52:08 2024 DEBUG [UTIL]: uri : TinyIoT
Mon Oct 14 13:52:08 2024 INFO  [UTIL]: chekAdd2
Mon Oct 14 13:52:08 2024 DEBUG [RTM]: CSE_RELATIVE
Mon Oct 14 13:52:08 2024 DEBUG [MAIN]: handle_onem2m_request
Mon Oct 14 13:52:08 2024 DEBUG [MAIN]: o2pt->op : 2
Mon Oct 14 13:52:08 2024 DEBUG [UTIL]: check_privilege : CAdmin : 2
Mon Oct 14 13:52:08 2024 DEBUG [UTIL]: ADMIN_AE_ID : CAdmin
Mon Oct 14 13:52:08 2024 DEBUG [O2M]: Notify via SUB [TinyIoT]
Mon Oct 14 13:52:08 2024 INFO  [UTIL]: Run time : 0.000352
Mon Oct 14 13:52:08 2024 DEBUG [HTTP]: Response: 
HTTP/1.1 200 OK
Connection: Close
Server: tinyIoT v0.1
Accept: application/json
Content-Type: application/json; charset=utf-8
Access-Control-Allow-Origin: *
Access-Control-Allow-Headers: Accept, Accept-Language, Content-Language, Content-Type, X-M2M-Origin, X-M2M-RI, X-M2M-RVI
Access-Control-Allow-Methods: GET, PUT, POST, DELETE, OPTIONS
Access-Control-Request-Methods: GET, PUT, POST, DELETE, OPTIONS
Content-Length: 263
X-M2M-RSC: 2000
X-M2M-RVI: 4
X-M2M-RI: 6747953974798999213

{"m2m:cb":{"rn":"TinyIoT","ri":"tinyiot","pi":"","ct":"20241008T175612","lt":"20241008T175612","ty":5,"cst":1,"csi":"/tinyiot","srt":[1,2,3,4,5,9,16,23,10001,10002,10003,10004,10005],"srv":["2a"],"rr":true,"poa":["http://127.0.0.1:3000","coap://127.0.0.1:5683"]}}

Mon Oct 14 13:52:09 2024 DEBUG [WEBSOCKET]: Received raw data: 
--{"fr": "CAdmin", "to": "TinyIoT", "op": 2, "rqi": "8439981533651253767", "rvi": "4"}ebSocket-Key: n6ba2lAvMejR99eXMujZVA==
Sec-WebSocket-Version: 13
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
Sec-WebSocket-Protocol: oneM2M.json
X-M2M-Origin: CAdmin
User-Agent: Python/3.12 websockets/12.0

--

Mon Oct 14 13:52:09 2024 INFO  [WEBSOCKET]: X-M2M-Origin: CAdmin
Mon Oct 14 13:52:09 2024 DEBUG [WEBSOCKET]: fr í•„ë“œê°€ ìžˆì„ë•Œ X-M2M-Origin : CAdmin
Mon Oct 14 13:52:09 2024 INFO  [WEBSOCKET]: op: 2
Mon Oct 14 13:52:09 2024 DEBUG [WEBSOCKET]: to: TinyIoT
Mon Oct 14 13:52:09 2024 DEBUG [WEBSOCKET]: Parsed request: op=2, to=TinyIoT, rqi=8439981533651253767, ty=0, rvi=5
Mon Oct 14 13:52:09 2024 DEBUG [WEBSOCKET]: Parsed content: (null)
Mon Oct 14 13:52:09 2024 DEBUG [WEBSOCKET]: route ì‹œìž‘ì „
Mon Oct 14 13:52:09 2024 INFO  [UTIL]: chekAdd1
Mon Oct 14 13:52:09 2024 DEBUG [UTIL]: uri : TinyIoT
Mon Oct 14 13:52:09 2024 INFO  [UTIL]: chekAdd2
Mon Oct 14 13:52:09 2024 DEBUG [RTM]: CSE_RELATIVE
Mon Oct 14 13:52:09 2024 DEBUG [MAIN]: handle_onem2m_request
Mon Oct 14 13:52:09 2024 DEBUG [MAIN]: o2pt->op : 2
Mon Oct 14 13:52:09 2024 DEBUG [UTIL]: check_privilege : CAdmin : 2
Mon Oct 14 13:52:09 2024 DEBUG [UTIL]: ADMIN_AE_ID : CAdmin
Mon Oct 14 13:52:09 2024 DEBUG [O2M]: Notify via SUB [TinyIoT]
Mon Oct 14 13:52:09 2024 INFO  [UTIL]: Run time : 0.000245
Mon Oct 14 13:52:09 2024 DEBUG [WEBSOCKET]: rsc : 2000
Mon Oct 14 13:52:09 2024 DEBUG [WEBSOCKET]: retrieve ì‘ë‹µ ë©”ì„¸ì§€ : {"rsc":2000,"rqi":"8439981533651253767","rvi":"4","pc":{"general":{"rn":"TinyIoT","ri":"tinyiot","pi":"","ct":"20241008T175612","lt":"20241008T175612","ty":5,"cst":1,"csi":"/tinyiot","srt":[1,2,3,4,5,9,16,23,10001,10002,10003,10004,10005],"srv":["2a"],"rr":true,"poa":["http://127.0.0.1:3000","coap://127.0.0.1:5683"]}}}
Mon Oct 14 13:52:09 2024 DEBUG [WEBSOCKET]: Sending message: {"rsc":2000,"rqi":"8439981533651253767","to":"TinyIoT","fr":"CAdmin","rvi":"4","pc":{"m2m:cb":{"rn":"TinyIoT","ri":"tinyiot","pi":"","ct":"20241008T175612","lt":"20241008T175612","ty":5,"cst":1,"csi":"/tinyiot","srt":[1,2,3,4,5,9,16,23,10001,10002,10003,10004,10005],"srv":["2a"],"rr":true,"poa":["http://127.0.0.1:3000","coap://127.0.0.1:5683"]}}}
Mon Oct 14 13:52:11 2024 DEBUG [WEBSOCKET]: Connection established
Mon Oct 14 13:52:12 2024 DEBUG [WEBSOCKET]: Received raw data: 
--{"fr": "C", "to": "TinyIoT", "op": 1, "rqi": "7210186903165551464", "rvi": "4", "ty": 2, "pc": {"m2m:ae": {"rn": "testAE", "api": "NMyApp1Id", "rr": false, "srv": ["4"]}}}ns: permessage-deflate; client_max_window_bits
Sec-WebSocket-Protocol: oneM2M.json
X-M2M-Origin: C
User-Agent: Python/3.12 websockets/12.0

0

--

Mon Oct 14 13:52:12 2024 INFO  [WEBSOCKET]: X-M2M-Origin: C
Mon Oct 14 13:52:12 2024 DEBUG [WEBSOCKET]: pc: {
	"m2m:ae":	{
		"rn":	"testAE",
		"api":	"NMyApp1Id",
		"rr":	false,
		"srv":	["4"]
	}
}
Mon Oct 14 13:52:12 2024 DEBUG [WEBSOCKET]: fr í•„ë“œê°€ ìžˆì„ë•Œ X-M2M-Origin : C
Mon Oct 14 13:52:12 2024 INFO  [WEBSOCKET]: op: 1
Mon Oct 14 13:52:12 2024 DEBUG [WEBSOCKET]: to: TinyIoT
Mon Oct 14 13:52:12 2024 DEBUG [WEBSOCKET]: Parsed request: op=1, to=TinyIoT, rqi=7210186903165551464, ty=2, rvi=5
Mon Oct 14 13:52:12 2024 DEBUG [WEBSOCKET]: Parsed content: {
	"m2m:ae":	{
		"rn":	"testAE",
		"api":	"NMyApp1Id",
		"rr":	false,
		"srv":	["4"]
	}
}
Mon Oct 14 13:52:12 2024 DEBUG [WEBSOCKET]: route ì‹œìž‘ì „
Mon Oct 14 13:52:12 2024 INFO  [UTIL]: chekAdd1
Mon Oct 14 13:52:12 2024 DEBUG [UTIL]: uri : TinyIoT
Mon Oct 14 13:52:12 2024 INFO  [UTIL]: chekAdd2
Mon Oct 14 13:52:12 2024 DEBUG [RTM]: CSE_RELATIVE
Mon Oct 14 13:52:12 2024 DEBUG [MAIN]: handle_onem2m_request
Mon Oct 14 13:52:12 2024 DEBUG [MAIN]: o2pt->op : 1
Mon Oct 14 13:52:12 2024 DEBUG [O2M]: create_onem2m_resource
Mon Oct 14 13:52:12 2024 DEBUG [O2M]: create_onem2m_resource2
Mon Oct 14 13:52:12 2024 DEBUG [O2M]: create_onem2m_resource3
Mon Oct 14 13:52:12 2024 DEBUG [O2M]: e = 0
Mon Oct 14 13:52:12 2024 DEBUG [O2M]: create_onem2m_resource4
Mon Oct 14 13:52:12 2024 DEBUG [UTIL]: ty = 2
Mon Oct 14 13:52:12 2024 DEBUG [O2M]: create_onem2m_resource5
Mon Oct 14 13:52:12 2024 DEBUG [UTIL]: check_privilege : C : 1
Mon Oct 14 13:52:12 2024 DEBUG [O2M]: create_onem2m_resource6
Mon Oct 14 13:52:12 2024 INFO  [UTIL]: attribute `rn` is duplicated
Mon Oct 14 13:52:12 2024 DEBUG [O2M]: create_onem2m_resource7
Mon Oct 14 13:52:12 2024 INFO  [UTIL]: Run time : 0.000589
Mon Oct 14 13:52:12 2024 DEBUG [WEBSOCKET]: rsc : 4105
Mon Oct 14 13:52:12 2024 DEBUG [WEBSOCKET]: Sending message: {"rsc":4105,"rqi":"7210186903165551464","to":"TinyIoT","fr":"C","rvi":"4","pc":{"m2m:dbg":"attribute `rn` is duplicated"}}
Mon Oct 14 13:52:12 2024 DEBUG [WEBSOCKET]: Sending message: {"rsc":4105,"rqi":"7210186903165551464","to":"TinyIoT","fr":"C","rvi":"4","pc":{"m2m:dbg":"attribute `rn` is duplicated"}}
Mon Oct 14 13:52:13 2024 DEBUG [WEBSOCKET]: Received raw data: 
--{"fr": "CAdmin", "to": "TinyIoT/testAE", "op": 4, "rqi": "2583894699506198185", "rvi": "4"}"pc": {"m2m:ae": {"rn": "testAE", "api": "NMyApp1Id", "rr": false, "srv": ["4"]}}}ns: permessage-deflate; client_max_window_bits
Sec-WebSocket-Protocol: oneM2M.json
X-M2M-Origin: C
User-Agent: Python/3.12 websockets/12.0

0

--

Mon Oct 14 13:52:13 2024 INFO  [WEBSOCKET]: X-M2M-Origin: C
Mon Oct 14 13:52:13 2024 DEBUG [WEBSOCKET]: fr í•„ë“œê°€ ìžˆì„ë•Œ X-M2M-Origin : CAdmin
Mon Oct 14 13:52:13 2024 INFO  [WEBSOCKET]: op: 4
Mon Oct 14 13:52:13 2024 DEBUG [WEBSOCKET]: to: TinyIoT/testAE
Mon Oct 14 13:52:13 2024 DEBUG [WEBSOCKET]: Parsed request: op=4, to=TinyIoT/testAE, rqi=2583894699506198185, ty=0, rvi=5
Mon Oct 14 13:52:13 2024 DEBUG [WEBSOCKET]: Parsed content: (null)
Mon Oct 14 13:52:13 2024 DEBUG [WEBSOCKET]: route ì‹œìž‘ì „
Mon Oct 14 13:52:13 2024 INFO  [UTIL]: chekAdd1
Mon Oct 14 13:52:13 2024 DEBUG [UTIL]: uri : TinyIoT/testAE
Mon Oct 14 13:52:13 2024 INFO  [UTIL]: chekAdd2
Mon Oct 14 13:52:13 2024 DEBUG [RTM]: CSE_RELATIVE
Mon Oct 14 13:52:13 2024 DEBUG [RTM]: find_rtnode [TinyIoT/testAE]
Mon Oct 14 13:52:13 2024 DEBUG [RTM]: Hierarchical Addressing
Mon Oct 14 13:52:13 2024 DEBUG [MAIN]: handle_onem2m_request
Mon Oct 14 13:52:13 2024 DEBUG [MAIN]: o2pt->op : 4
Mon Oct 14 13:52:13 2024 INFO  [O2M]: Delete oneM2M resource
Mon Oct 14 13:52:13 2024 DEBUG [UTIL]: check_privilege : CAdmin : 8
Mon Oct 14 13:52:13 2024 DEBUG [UTIL]: ADMIN_AE_ID : CAdmin
Mon Oct 14 13:52:13 2024 DEBUG [O2M]: delete_process [TinyIoT/testAE]
Mon Oct 14 13:52:13 2024 DEBUG [O2M]: Notify via SUB [TinyIoT/testAE]
Mon Oct 14 13:52:13 2024 DEBUG [DB]: Delete [RI] CAE20241014T1349110003
Mon Oct 14 13:52:13 2024 DEBUG [DB]: SQL : DELETE FROM general WHERE uri LIKE 'TinyIoT/testAE/%' OR ri='CAE20241014T1349110003';
Mon Oct 14 13:52:13 2024 INFO  [UTIL]: Run time : 0.003846
Mon Oct 14 13:52:13 2024 DEBUG [WEBSOCKET]: rsc : 2002
Mon Oct 14 13:52:13 2024 DEBUG [WEBSOCKET]: Sending message: {"rsc":2002,"rqi":"2583894699506198185","to":"TinyIoT/testAE","fr":"CAdmin","rvi":"4"}
Mon Oct 14 13:52:37 2024 INFO  [MAIN]: Shutting down server...
Mon Oct 14 13:52:37 2024 INFO  [MAIN]: De-registrating cse...
Mon Oct 14 13:52:37 2024 INFO  [MAIN]: Closing DB...
Mon Oct 14 13:52:37 2024 INFO  [MAIN]: Cleaning ResourceTree...
Mon Oct 14 13:52:37 2024 INFO  [MAIN]: Done
